<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Visual DID & Credential Manager</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="icons/icon32.png" class="logo" alt="DID & Credential Manager Logo">
      <h1>Visual DID & Credential Manager</h1>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="setup">Setup</div>
      <div class="tab" data-tab="dids">DIDs</div>
      <div class="tab" data-tab="issue">Issue</div>
      <div class="tab" data-tab="verify">Verify</div>
    </div>

    <div id="status" class="status" style="display: none;"></div>

    <!-- Setup Tab -->
    <div class="tab-content active" id="setup-tab">
      <div class="card">
        <div class="form-group">
          <label for="mediatorDID">Mediator DID:</label>
          <input type="text" id="mediatorDID" placeholder="Enter mediator DID from invitation" class="input-field">
        </div>
        <div class="button-container">
          <button id="initButton" class="primary-button">Initialize</button>
        </div>
      </div>
    </div>

    <!-- DIDs Tab -->
    <div class="tab-content" id="dids-tab">
      <div class="card">
        <div class="form-group">
          <label for="didType">DID Type:</label>
          <select id="didType" class="input-field">
            <option value="holder">Holder DID (for receiving credentials)</option>
            <option value="issuer">Issuer DID (for issuing credentials)</option>
            <option value="verifier">Verifier DID (for verifying credentials)</option>
          </select>
        </div>
        <div class="button-container">
          <button id="createDIDButton" class="primary-button" disabled>Create DID</button>
        </div>
        
        <h2>Your DIDs</h2>
        <div id="didList" class="did-list">
          <div class="empty-state">No DIDs created yet</div>
        </div>
      </div>
    </div>

    <!-- Issue Tab -->
    <div class="tab-content" id="issue-tab">
      <div class="app-layout">
        <div id="credential-builder" class="credential-builder"></div>
        
        <div class="contact-section">
          <h2>Issue to contact</h2>
          <div class="contact-search">
            <input type="text" id="contact-search" placeholder="Search contacts">
          </div>
          <div class="contacts-list" id="contacts-list">
            <!-- Contacts will be added here dynamically -->
          </div>
        </div>
      </div>
    </div>

    <!-- Verify Tab -->
    <div class="tab-content" id="verify-tab">
      <div class="card">
        <h2>Verify Credential</h2>
        <div class="form-group">
          <label for="holderToVerify">Holder DID:</label>
          <input type="text" id="holderToVerify" placeholder="Enter holder's DID to verify" class="input-field">
        </div>
        <div class="form-group">
          <label for="credentialType">Credential Type (Optional):</label>
          <input type="text" id="credentialType" placeholder="Specific credential type to verify" class="input-field">
        </div>
        <div class="button-container">
          <button id="verifyCredential" class="primary-button" disabled>Verify Credential</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Template for a contact item -->
  <template id="contact-item-template">
    <div class="contact-item">
      <div class="contact-avatar">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
      <div class="contact-name"></div>
    </div>
  </template>

  <script src="dist/popup.js"></script>
</body>
</html>